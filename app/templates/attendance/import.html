{% extends "base.html" %}

{% block title %}Import cham cong - HR System{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto">
    <div class="bg-white rounded-lg shadow-lg p-6">
        <h1 class="text-2xl font-bold text-gray-800 mb-6">Import du lieu cham cong</h1>

        <div class="mb-6 p-4 bg-blue-50 rounded-lg">
            <h3 class="font-semibold text-blue-800 mb-2">Huong dan:</h3>
            <ul class="text-sm text-blue-700 space-y-1">
                <li>1. Chon nam du lieu (neu file Excel chi co ngay/thang, khong co nam)</li>
                <li>2. Export du lieu tu may cham cong ra file Excel (.xlsx)</li>
                <li>3. Upload file, he thong se hien thi preview de kiem tra</li>
                <li>4. Bo sung ma nhan vien (neu thieu) va xac nhan luu</li>
            </ul>
        </div>

        <form method="POST" enctype="multipart/form-data">
            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">

            <div class="mb-4">
                <label class="block text-gray-700 font-medium mb-2">Chon nam du lieu</label>
                <select name="year" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <option value="2026" selected>2026</option>
                    <option value="2025">2025</option>
                    <option value="2024">2024</option>
                </select>
                <p class="text-gray-500 text-sm mt-1">Neu file chi co ngay/thang (VD: 15/01), chon nam de luu dung</p>
            </div>

            <div class="mb-4">
                <label class="block text-gray-700 font-medium mb-2">Dinh dang ngay thang trong file Excel</label>
                <select name="date_format" class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <option value="auto">Tu dong nhan dien</option>
                    <option value="dd-mm">DD-MM (01-12 = ngay 1 thang 12)</option>
                    <option value="mm-dd">MM-DD (01-12 = thang 1 ngay 12)</option>
                    <option value="dd/mm">DD/MM (01/12 = ngay 1 thang 12)</option>
                    <option value="mm/dd">MM/DD (01/12 = thang 1 ngay 12)</option>
                    <option value="yyyy-mm-dd">YYYY-MM-DD (2026-01-12)</option>
                    <option value="dd/mm/yyyy">DD/MM/YYYY (12/01/2026)</option>
                </select>
                <p class="text-gray-500 text-sm mt-1">Chon dinh dang phu hop voi file Excel cua ban</p>
            </div>

            <div class="mb-6">
                <label class="block text-gray-700 font-medium mb-2">Chon file Excel</label>
                <input type="file" name="file" accept=".xlsx,.xls" required
                    class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                <p class="text-gray-500 text-sm mt-1">Chi chap nhan file .xlsx hoac .xls</p>
            </div>

            <button type="submit" class="w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition">
                Upload va Preview
            </button>
        </form>

        <div class="mt-6 pt-6 border-t">
            <h3 class="font-semibold mb-2">Mau file Excel (File co the khong co cot Ma NV):</h3>
            <div class="overflow-x-auto">
                <table class="w-full text-sm border">
                    <thead class="bg-gray-100">
                        <tr>
                            <th class="px-3 py-2 border">STT/Ma NV</th>
                            <th class="px-3 py-2 border">Ho ten</th>
                            <th class="px-3 py-2 border">Ngay</th>
                            <th class="px-3 py-2 border">Gio vao</th>
                            <th class="px-3 py-2 border">Gio ra</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="px-3 py-2 border">1</td>
                            <td class="px-3 py-2 border">Nguyen Van A</td>
                            <td class="px-3 py-2 border">20/01</td>
                            <td class="px-3 py-2 border">06:45</td>
                            <td class="px-3 py-2 border">12:15</td>
                        </tr>
                        <tr>
                            <td class="px-3 py-2 border">2</td>
                            <td class="px-3 py-2 border">Tran Thi B</td>
                            <td class="px-3 py-2 border">20/01</td>
                            <td class="px-3 py-2 border">07:10</td>
                            <td class="px-3 py-2 border">12:05</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <p class="text-gray-500 text-sm mt-2">Neu file khong co cot Ma NV, ban co the bo sung trong buoc preview</p>
        </div>
    </div>
</div>
{% endblock %}
